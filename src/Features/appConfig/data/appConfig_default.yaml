name: "Conf. par défaut"
version: "16/07/2025"
isDefault: true

# APP
appName: "Krto"

# COLORS

colors:
  purple700: &purple700 "#7B1FA2"
  purple900: &purple900 "#4A148C"
  red300: &red300 "#E57373"
  red500: &red500 "#F44336"
  red800: &red800 "#C62828"
  red900: &red900 "#B71C1C"
  orange300: &orange300 "#FF9800"
  orange700: &orange700 "#F57C00"
  orange800: &orange800 "#EF6C00"
  blue800: &blue800 "#1976D2"
  blue700: &blue700 "#0288D1"
  blue500: &blue500 "#2196F3"
  blue300: &blue300 "#4FC3F7"
  green800: &green800 "#388E3C"
  green900: &green900 "#1B5E20"
  grey900: &grey900 "#212121"
  purple500: &purple500 "#9C27B0"
  deepPurple500: &deepPurple500 "#673ab7"

# STRINGS

strings:
  general:
    projectAndScope: "Périmètre des données"
    select: "Sélectionnez un dossier / lot"

  project:
    nameSingular: "Opportunité / Chantier"
    namePlural: "Opportunités / Chantiers"
    seeAll: "Tous"
    new: "Nouveau chantier / opportunité"
    create: "Créez un nouveau chantier / opportunité"
    noProject: Aucun chantier / opportunité disponible
    nameLabel: Nom du chantier / opportunité

  scope:
    nameSingular: "Krto"
    namePlural: "Krto"
    seeAll: "Toutes les Krtos"
    search: "Rechercher une Krto"
    new: "Nouvelle Krto"
    create: "Créez une nouvelle Krto"
    select: "Sélectionnez une Krto"
    myScopes: "Mes Krtos"
    nameLabel: "Nom du Krto"
    noScope: "Aucun Krto"

  listing:
    locatedEntities: "Annotations"

  presetConfig:
    title: "Type de dossier"
    select: "Sélectionnez un type de dossier"

# AUTH

auth:
  service: PHONE_NUMBER
  getMfaCodeUrl: https://auth.etandex.fr/api/Auth/Login
  verifyMfaCodeUrl: https://auth.etandex.fr/api/Auth/CheckMfaCode
  userProfile:
    firstName: given_name # Antoine
    lastName: familyName # Favreau
    trigram: unique_name # FVA

# REMOTE CONTAINERS

remoteContainer:
  service: "REMOTE_CONTAINER"
  name: "Serveur de sauvegarde"
  showSignInWarning: false

orgaData:
  pathRelative: "/_data/_orga"
  files:
    - key: nomenclature1
      fileName: _nomenclature_nfx-46-020_v1.json
      dataStructure: "NOMENCLATURE"
      description: "Nomenclature NFX 46-020. Objet {name,ranks,items:[{num,label,children}]}"
    - key: reportTemplate1
      fileName: SGS - Bon de commande Générique AMIANTE rev 1123.xlsx
      dataStructure: "FILE"
      description: "Bordereau d'envoi SGS pour les prélèvement"

# FEATURES

features:
  bgImages:
    options:
      - key: DEFAULT
        url: https://public.media.bimboxa.com/bg_image_A4_150dpi_default.png
        name: "A4 - 150dpi"
        width: 1740
        height: 1240
        isDefault: true
      - key: BASIC
        url: https://public.media.bimboxa.com/bg_image_A4_150dpi_etandex_wS9kwOYWr2ltTF9l2L-bu.png
        name: "A4 - 150dpi - Cartouche Etandex"
        width: 1740
        height: 1240
  presetScopes:
    templatesImageUrl: https://public.media.bimboxa.com/scope_templates_etandex.gif
  annotations:
    spriteImages:
      - key: DEFAULT
        url: https://public.media.bimboxa.com/sprite_etandex_default.png
        columns: 3
        rows: 3
        tile: 64
        iconKeys:
          - circle
          - drop
          - ring
          - triangle
          - square
          - info
          - sun
          - clean
          - brush

sync:
  canSyncLocalProject: false
  canSyncLocalScope: true

# CREATION

creation:
  #canCreateProject: false
  canCreateProject: true

# DATA

# ENTITY MODEL

entityModelsObject:
  legend:
    key: legend
    type: "LEGEND_ENTITY"

  annotation:
    key: annotation
    type: LOCATED_ENTITY
    strings:
      labelNew: Nouvelle annotation
    labelKey: text
    fieldsObject:
      text:
        key: text
        type: text
        label: Description
        options:
          multiline: true

  issue:
    key: issue
    type: LOCATED_ENTITY
    strings:
      labelNew: Nouvelle observation
    labelKey: text
    fieldsObject:
      text:
        key: text
        type: text
        label: Description
        options:
          multiline: true
      image:
        key: image
        type: image
        label: Image
        options:
          autoFocus: true
          variant: auto
          maxSize: 200
    sortBy:
      key: createdAt
      order: desc

  blueprint:
    key: blueprint
    type: "BLUEPRINT"

# PRESET LISTINGS

presetListingsObject:
  annotations:
    key: annotations
    name: Annotations
    entityModelKey: annotation
    table: entities
    color: *orange300
    iconKey: annotation
    sortBy:
      key: createdAt
      order: desc
    spriteImageKey: DEFAULT

  issues:
    key: issues
    name: Observations
    entityModelKey: issue
    table: entities
    color: *blue700
    iconKey: info
    sortBy:
      key: num
      order: desc
    spriteImageKey: DEFAULT

  legend:
    key: legend
    name: Légende
    type: ANNOTATIONS_LEGEND
    entityModelKey: legend
    table: legends
    color: *blue700
    iconKey: legend
    initialItems:
      - sortedItems:
          - type: MARKER
            iconKey: ring
            fillColor: *red500
            label: Gaine annelée NC
          - type: MARKER
            iconKey: square
            fillColor: *red500
            label: Réservation NC
          - type: MARKER
            iconKey: drop
            fillColor: *blue500
            label: Présence d'eau stagnante
          - type: MARKER
            iconKey: triangle
            fillColor: *deepPurple500
            label: Support à poncer

  blueprints:
    key: blueprints
    name: Exports
    entityModelKey: blueprint
    table: blueprints
    color: *red500
    iconKey: blueprint

# PRESET SCOPES

presetScopesObject:
  preset1:
    key: preset1
    name: Repérage libre
    description: Créez librement un plan de repérage.
    descriptionImageUrl: https://public.media.bimboxa.com/scope_template_etandex_reperage_libre.png
    listings:
      - annotations
      - legend

  preset2:
    key: preset2
    name: Réception de support
    description: Créez des écarts à partir d'une bibliothèque type.
    descriptionImageUrl: https://public.media.bimboxa.com/scope_template_etandex_reception_support.png
    listings:
      - annotations
      - issues

  presetVoid:
    key: presetVoid
    name: Krto libre
    description: Démarrez avec un Krto vide.
    descriptionImageUrl: https://public.media.bimboxa.com/scope_template_etandex_vide.png

# REPORT TABLES

tables:
  materialCategories:
    name: "Nomenclature de matériaux"
    description: "Tableau de la nomenclature des matériaux"
    type: "NOMENCLATURE_BASED"
    categoryKeyLabel:
      # - key: "num"
      #   label: "N°"
      # - key: "label"
      #   label: "Nom"
      - key: "code"
        label: "Code"

  sampleMaterialZone:
    name: "Prélèvement - Matériau - Pièce"
    description: "Tableau des prélèvements (Prélevement | Matériau | Pièce)"
    type: "ENTITIES_BASED"
    columns:
      - key: num
        label: N°
        description: "Numéro du prélèvement"
        value:
          type: "ENTITY_PROP"
          entityFieldKey: num
      - key: material
        label: Matériau
        description: "Matériau prélevé"
        value:
          type: "ENTITY_PROP"
          entityFieldKey: material
          entityFieldValue: fullLabelWithCategory
      - key: zone
        label: Pièce
        description: "Pièce où le prélèvement a été effectué"
        value:
          type: "ENTITY_PROP"
          entityFieldKey: zone
          entityFieldValue: fullName

  orderSamples:
    name: "Echantillons (commandes)"
    description: "Tableau d'échantillons pour les commandes"
    type: "ENTITIES_PROPS_BASED"
    columns:
      - key: num
        label: N°
        description: N° du prélèvement
        value:
          type: "ENTITY_PROP"
          entityFieldKey: num
      - key: description
        label: Description
        description: "Catégorie + Ouvrages ou Composants de la construction + Partie d'ouvrages ou de composants à inspecter + descriptif technicien"
        value:
          type: "ENTITY_PROP"
          entityFieldKey: material
          entityFieldValue: fullNameWithCategory

# REPORTS

reports:
  laboOrderReport:
    strings:
      createTitle: "Nouveau bordereau d'envoi"
    name: "Bordereau d'envoi"
    type: "EXCEL"
    options:
      - key: "SGS"
        label: "Labo SGS"
        templateKey: "reportTemplate1"
      - key: "MY_EASY_LAB"
        label: "My Easy Lab"
        templateKey: "reportTemplate2"
